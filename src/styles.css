@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap') layer(base);
@import 'tailwindcss';
@import '@angular/material/prebuilt-themes/indigo-pink.css';

/* @plugin "@tailwindcss/forms"; */
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/aspect-ratio";
@plugin "tailwind-scrollbar";

@custom-variant dark (&:where(.dark, .dark *));

/* --- Angular Material form fields: soft borders and rounded look --- */
@layer base {
  .mat-mdc-form-field { width: 100%; }
  /* Wrapper background + radius */
  .mat-mdc-text-field-wrapper {
    background: var(--background) !important;
  }
  /* Outline border colors (default) */
  .mdc-text-field--outlined .mdc-notched-outline__leading,
  .mdc-text-field--outlined .mdc-notched-outline__trailing,
  .mdc-text-field--outlined .mdc-notched-outline__notch {
    border-color: var(--border) !important;
  }
  /* Focus state */
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__leading,
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__trailing,
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__notch {
    border-color: var(--primary) !important;
  }
  /* Hover state */
  .mdc-text-field--outlined:hover .mdc-notched-outline__leading,
  .mdc-text-field--outlined:hover .mdc-notched-outline__trailing,
  .mdc-text-field--outlined:hover .mdc-notched-outline__notch {
    border-color: color-mix(in oklab, var(--primary) 20%, var(--border)) !important;
  }
  /* Remove harsh divider feeling near prefix by reducing notch border visually */
  .mdc-text-field--outlined .mdc-notched-outline__notch {
    border-left-width: 1px !important;
    border-right-width: 1px !important;
  }
  /* Prefix/Suffix icon tone */
  .mat-mdc-form-field-icon-prefix .mat-icon,
  .mat-mdc-form-field-icon-suffix .mat-icon { color: var(--muted-foreground); }
}

@theme {
  --font-*: initial;
  --font-poppins: Poppins, system-ui, sans-serif;
  --font-nunito: Nunito Sans, sans-serif;
  --animate-wiggle: wiggle 1s ease-in-out infinite;
  --animate-fade-in-down: fade-in-down 0.3s ease-out;
  --animate-fade-out-down: fade-out-down 0.3s ease-out;
  --animate-fade-in-up: fade-in-up 0.3s ease-out;
  --animate-fade-out-up: fade-out-up 0.3s ease-out;
  --shadow-custom: 0px 0px 50px 0px rgb(82 63 105 / 15%);
  --color-border: var(--border);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  @keyframes wiggle {
    0%,
    100% {
      transform: rotate(-3deg);
    }
    50% {
      transform: rotate(3deg);
    }
  }

  @keyframes fade-in-down {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out-down {
    from {
      opacity: 1;
      transform: translateY(0px);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  }

  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out-up {
    from {
      opacity: 1;
      transform: translateY(0px);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  }
}

@utility container {
  padding-inline: 1rem;
  @media (width >=theme(--breakpoint-sm)) {
    padding-inline: 2rem;
  }
  @media (width >=theme(--breakpoint-lg)) {
    padding-inline: 4rem;
  }
  @media (width >=theme(--breakpoint-xl)) {
    padding-inline: 5rem;
  }
  @media (width >=theme(--breakpoint-2xl)) {
    padding-inline: 6rem;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.
  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@utility dropdown-content {
  @apply pointer-events-none scale-95 opacity-0 duration-100 ease-in;
  .dropdown:hover>& {
    @apply pointer-events-auto block scale-100 animate-fade-in-up opacity-100 duration-200;
  }
}

@utility dropdown {
  &:hover>.dropdown-content {
    @apply pointer-events-auto block scale-100 animate-fade-in-up opacity-100 duration-200;
  }
}

@layer base {
  :root {
    --background: #FFFFFF;
    --foreground: #0C1420;
    --card: #F1F5F9;
    --card-foreground: #000000;
    --primary: #e11d48;
    --primary-foreground: #FFFFFF;
    --muted: #CFD9E5;
    --muted-foreground: #64748B;
    --destructive: #CC0033;
    --destructive-foreground: #FAFAFA;
    --border: #E2E8F0;
  }
  .dark {
    --background: #0A0A0A;
    --foreground: #F2F2F2;
    --card: #121212;
    --card-foreground: #262626;
    --muted: #262626;
    --muted-foreground: #A3A3A3;
    --border: #262626;
  }
  :root[data-theme='violet'] {
    --primary: #6E56CF;
  }
  .dark[data-theme='violet'] {
    --background: #060815;
    --foreground: #F6F8FB;
    --card: #0B0F1A;
    --card-foreground: #F6F8FB;
    --primary-foreground: #F6F8FB;
    --muted: #232B3D;
    --muted-foreground: #A1A8BF;
    --border: #232B3D;
  }
  :root[data-theme='red'] {
    --primary: #CC0033;
  }
  .dark[data-theme='red'] {
    --primary-foreground: #FFE5E5;
  }
  :root[data-theme='blue'] {
    --primary: #2490FF;
  }
  .dark[data-theme='blue'] {
    --background: #02080F;
    --foreground: #F8FAFC;
    --card: #0B1117;
    --card-foreground: #F8FAFC;
    --primary-foreground: #0F1729;
    --muted: #1E293B;
    --muted-foreground: #94A3B8;
    --border: #1E293B;
  }
  :root[data-theme='orange'] {
    --primary: #EA580C;
  }
  .dark[data-theme='orange'] {
    --background: #0C0A09;
    --foreground: #FAFAF9;
    --card: #141110;
    --card-foreground: #FAFAF9;
    --primary-foreground: #FAFAF9;
    --muted: #292524;
    --muted-foreground: #A8A29E;
    --border: #292524;
  }
  :root[data-theme='yellow'] {
    --primary: #FACC15;
  }
  .dark[data-theme='yellow'] {
    --background: #0C0A09;
    --foreground: #FAFAF9;
    --card: #141110;
    --card-foreground: #FAFAF9;
    --primary: #FACC15;
    --primary-foreground: #422006;
    --muted: #292524;
    --muted-foreground: #A8A29E;
    --border: #292524;
  }
  :root[data-theme='green'] {
    --primary: #22C55E;
  }
  .dark[data-theme='green'] {
    --primary: #22C55E;
    --primary-foreground: #052E16;
  }

}

/** Scroll bar **/
@supports selector(::-webkit-scrollbar) {
  .supports-scrollbars\: pr-2 {
    padding-right: 0.5rem;
  }
}

/* Material input cleanup: remove inner outline, extra notch borders, and focus overlay */
@layer base {
  /* Remove blue native outline inside input */
  .mat-mdc-form-field .mdc-text-field__input:focus,
  .mat-mdc-form-field .mdc-text-field__input:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
  /* Hide focus overlay glow */
  .mat-mdc-form-field .mat-mdc-form-field-focus-overlay { opacity: 0 !important; }
  /* Reduce notch borders to avoid vertical cut lines */
  .mdc-text-field--outlined .mdc-notched-outline__notch {
    border-left-width: 0 !important;
    border-right-width: 0 !important;
  }
  /* Keep unified border color on all sides */
  .mdc-text-field--outlined .mdc-notched-outline__leading,
  .mdc-text-field--outlined .mdc-notched-outline__trailing,
  .mdc-text-field--outlined .mdc-notched-outline__notch {
    border-color: var(--border) !important;
  }
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__leading,
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__trailing,
  .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__notch {
    border-color: var(--primary) !important;
  }
  .mdc-text-field--outlined:hover .mdc-notched-outline__leading,
  .mdc-text-field--outlined:hover .mdc-notched-outline__trailing,
  .mdc-text-field--outlined:hover .mdc-notched-outline__notch {
    border-color: color-mix(in oklab, var(--primary) 15%, var(--border)) !important;
  }
}

/* Invalid state borders for forms */
@layer base {
  /* Angular Material invalid */
  .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__leading,
  .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__trailing,
  .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__notch {
    border-color: var(--destructive) !important;
  }
  /* Also react to Angular forms classes on wrapper (useful for custom composition) */
  .ng-invalid.ng-touched ~ .mdc-notched-outline .mdc-notched-outline__leading,
  .ng-invalid.ng-touched ~ .mdc-notched-outline .mdc-notched-outline__trailing,
  .ng-invalid.ng-touched ~ .mdc-notched-outline .mdc-notched-outline__notch {
    border-color: var(--destructive) !important;
  }
  /* ng-select invalid */
  .ng-select.ng-invalid.ng-touched .ng-select-container,
  .ng-select.ng-invalid.ng-dirty .ng-select-container {
    border-color: var(--destructive) !important;
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--destructive) 15%, transparent);
  }
}

/* Common control sizing (input/select/datepicker) */
@layer base {
  /* Angular Material single-line inputs (exclude textarea) */
  .mat-mdc-form-field:not(.custom-form-textarea) .mat-mdc-text-field-wrapper { height: 44px !important; padding: 0 12px !important; }
  .mat-mdc-form-field:not(.custom-form-textarea) .mat-mdc-form-field-flex { height: 100% !important; align-items: center !important; }
  .mat-mdc-form-field:not(.custom-form-textarea) .mat-mdc-form-field-infix { min-height: 44px !important; height: 44px !important; padding: 0 !important; display: flex !important; align-items: center !important; }
  .mat-mdc-form-field:not(.custom-form-textarea) input.mdc-text-field__input { height: 44px !important; line-height: 44px !important; padding: 0 !important; }
  /* Textarea: let it auto-size */
  .mat-mdc-form-field.custom-form-textarea .mat-mdc-text-field-wrapper { height: auto !important; padding: 8px 12px !important; }
  .mat-mdc-form-field.custom-form-textarea .mat-mdc-form-field-infix { min-height: unset !important; height: auto !important; padding: 0 !important; align-items: stretch !important; }
  .mat-mdc-form-field.custom-form-textarea textarea.mdc-text-field__input { height: auto !important; line-height: 1.5 !important; padding: 0 !important; }
  /* ng-select wrapper */
  .ng-select .ng-select-container { height: 44px !important; min-height: 44px !important; display: flex; align-items: center; }
}

/* ng-select border color alignment */
@layer base {
  .ng-select .ng-select-container { border: 1px solid var(--border) !important; background: var(--background); }
  .ng-select:not(.ng-select-opened):hover .ng-select-container { border-color: color-mix(in oklab, var(--primary) 20%, var(--border)) !important; }
  .ng-select.ng-select-opened .ng-select-container,
  .ng-select.ng-select-focused .ng-select-container { border-color: var(--primary) !important; box-shadow: none !important; }
}

/* ng-select typography/centering */
@layer base {
  .ng-select .ng-select-container { font-size: 14px; }
  .ng-select .ng-select-container .ng-value-container { display: flex; align-items: center; }
  .ng-select .ng-select-container .ng-value { display: inline-flex; align-items: center; line-height: 1.2; }
  .ng-select .ng-select-container .ng-placeholder { font-size: 14px; line-height: 32px; }
  .ng-select .ng-select-container .ng-input > input { height: 44px !important; line-height: 44px !important; padding: 0 !important; }
  .ng-select .ng-select-container .ng-arrow-wrapper { display: flex; align-items: center; }
}

html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }
